---
layout: post
title:  "Back on the Road Again 重新上路"
date:   2019-08-10 16:11:16 +0100
categories: Rants and Scribbles
---
直至2019年第三季度，我参加工作已经整整7年。在'7'这个魔法数字面前，以及人生第二次职业转型的节骨眼上，
我是时候稍对过往7年的工作事业做个简短的总结。这篇博文主要是写给我自己，特别是7年后，或是 ``while(isAlive) {age += 7;}``
 年后的自己看的。你若无意逛了进来，而又对此博文有所感触，欢迎留言。

<!--MORE-->

一改本站其他博文的风格，此文是以中文写作的。选择中文的原因是，在谈论'事'和'物'时，我喜欢用工作语言（英文）表达。
但在讲'人'的时候，而这个'人'又是自己，用母语表述最好不过。为了本站观感的一致性，我会在本文正文之后附上英文译文。
为了~~偷懒~~高效，本文英文版是我用 Google Translate 跑一遍再加以修饰的产物。

## 零
自2011年从 Imperial 硕士课程毕业以后，我不免俗地和很多毕业生一样迷茫一段时间。那年保守党刚上台执政，缩紧移民政策。
时任内政大臣梅姨取消了上届政府设立的 Post Study Work 签证。这意味着我并没有那奢侈的两年时间在伦敦找工作。
时不我待，我没法迷茫太久。我跟打鸡血似的投报了伦敦各大投资银行的应届毕业生录取计划。乱面了几次之后我逐渐掌握了投行面试的套路，
后陆续收了三间银行的 offer。

在权衡得失利弊后，我选择了三间银行中其中一间，兴高采烈上班去了。这就是我在内任职了5年的花旗银行。

## 壹
2012年秋天，我作为毕业生加入了伦敦花期银行的 ICG Global Markets Technology（企业客户部全球市场交易技术部门）。你不用 Google 了，
你搜也搜不到，大公司的企业架构名称总变来变去的。简单来说这就是是花旗的投行部技术部门。干'金融码农'。

我不同意也不喜欢'码农'这个描述。'农'这个字有劳动密集型工作的涵义（没有诋毁农业工作者的意思）。而软件工程师的核心任务,
恰恰是消除劳动密集型的工作。如果你当软件工程师，当成了个'农'，净干些重复劳动，那你这工程师就别当了。

从2012年作为应届生加入公司到2017年底跳槽，我在花旗效力了5年有余。5年的经历全写出来写10篇文都不够。总结下来，我会以**做了什么**，
**得到什么**，**为什么离开**这三方面说说在花旗这几年的喜怒得失。

#### 壹·零
__做了什么__

做了些什么最难写。

难写当然不是因为不知道自己做过什么，不然把直接简历复制黏贴来就好了。难在于如何在做过的芸芸众项目里提炼一些出可圈点的，
有持续性系统性贡献的遗产。

我在花旗的大部分时间任职于期货期权交易清算抵押管理技术部门（Futures Clearing and Collateral Management, 简称 Fucc'm，
真的，我座位头顶天花板上挂的牌子就这么写的），服务于期货期权电子交易及风险控制业务。你看这部门名称不能硬译，译出来也白瞎。

刚进组的时候，我的天，整个技术架构就一西部，等着我去大开发。持续集成约等于没有，自动部署没有，代码仓库是SVN。记得第一次观摩同事做部署，
我看着他，点开 Windows Remote Desktop，登进生产环境，把本地 maven 构建的 zip 包（你没看错）手动地拉到生产环境的桌面。我看得一愣一愣的。
他接着手动解压该 zip，把子文件一个个给拉到部署目录里。我惊为天人。

这当然不是个事儿。我在组内的几年时间里，在保证项目进度输出的前提下，对下辖软件系统的 SDLC 成熟度持续不断地进行着改进。
把代码仓库从 SVN 移到了内部主持的 git server，再移到了全银行共用的 Bitbucket。最初我们的软件是直接部署在裸金属（bare metal）服务器上的，
我陆续地把它们移到虚拟机，而后又全部移植到花旗的内部云里。我陆续地把持续集成，自动部署，自动测试，静态代码质量分析，代码质量把关等系统一一建立。
而后，我又在各不同业务领域内的项目标准化了技术骨架和构建方法。这让后代陆陆续续加入的工程师们可以很舒服地在我们的系统上进行开发，
同时保证着在这框架内产出的软件的质量相对高。

一言以概之，我在花旗做的最重要的一件事，是向所管辖的系统**注入了可持续地，往横向扩展的 DNA**，并且把它这一定程度上传播到部门内其它的姐妹系统中。
那段时间公司爱搞软件成熟度模型评估（software maturity model scorecard），我的系统总能出现在大部门的榜单上。这也是很能让我的老板脸上有光的。
我当时的小老板还以此作为他的'政绩'之一拿去搞升职了，哈哈哈哈，笑死我了。

至于在业务上，我留下的遗产是，**把一个服务数名内部员工的软件系统，扩展到可以满足内外部客户需求的软件服务**。
这系统最早就只安装在了几个风险管理人员的台式机上，追踪监测客户的维持保证金（maintenance margin）需求。在我离开前，
系统已经被反转成能满足实时即席保证金运算的服务，并且把这服务公开在了 citivelocity.com 平台上，供外部客户使用。因为这个项目的交付，
公司赢得了新加坡一政府背景投资机构的业务。这在当时还是很能让不少人乐呵的一个成绩。虽说在投行环境里，技术部门只能切到一小块蛋糕，
然而我作为新人完成这些任务，还是得到了各方面的回报。这就很自然地转接到了下一个章节，看看我在花旗得到了什么。

#### 壹·壹
__得到什么__

白岩松同志说过，[失败不是成功之母，胜利才是成功之母](http://news.ifeng.com/a/20160907/49929707_0.shtml)。对此我深表认同。
这些年我目击并参与了软件项目从无到有，从弱到强的全过程。了解了如何把客户和交易员的想法，点子，变成稳健，可扩展的系统。
这些备受瞩目项目的成功交付，让我建立起在本行业立足的信心。能以项目管理，人事主管，技术骨干的身份参与这些项目，
并和(哥|姐)几个撸起袖子拼得一些成绩，这份心理优势（mentality）可以让我有底气信心揽下任何同等规模，甚至更复杂的开发任务。

在花旗的大部分时间，除了人事和一些官僚的事物外，我很少需要和我的直系领导汇报。我直接对我们的客户负责。
自主性强的环境也是让我能够快速成长的重要因素。

那几年这企业阶梯我攀爬地可是相当顺利，火箭似地升，能升职的机会全都把握住了，在第四年升成了 VP。一部分的原因在于我搭上了职称膨胀的快车，
同时也遇到了愿意栽培我的好领导。对这位有知遇之恩的领导，到今天我还是非常地心存感激。

我当组长那年，领导了一帮散落在世界各地的小弟们。为什么会这样呢？像花旗这样的大企业爱搞一些'卓越中心'（centre of excellence, 简称 COE）。
这什么东西？COE 是廉价劳工地点（cheap location）的政治正确的称呼。这些 COE 是公司为了节省成本，在亚非拉各地成立的办事机构。

我在北爱 Belfast 的 COE 里有个小弟（其实该小弟比我年纪还大）。这大小弟后来转组，临走前跟我说，我不会忘记你教过我的东西。
这让我膨胀了好一阵子。

非要总结的话，在花旗这几年我得到最多的是成长。如果非要再说点什么，就是获得了 title （职称）。有某大牛说过，
[职位，title 都是虚的](https://coolshell.cn/articles/10688.html)。那是扯淡。要真是虚的，让你把自己 title 给免了试试？
这职称本身固然没有什么实际意义，也没人会真的管你叫黄VP的。但 title 背后代表着的你在行业内的江湖地位（gravitas）却是实打实的。
各大行对 title 都有严格的薪金水准定位，而且有了 title 找工作上便利也不少，新的公司总得给你对应上你曾获得的职称。

好哇，你看你说这些，顺风顺水，好得不能再好了，你干嘛跳槽呢？你会这么问。别急，吐槽马上就来了。

#### 壹·贰
__为什么离开__

终于到这章节了。写这么久就等着写这个。

干得这么好干嘛要走啊。身边的人，包括家人，太太，都会对我要跳槽的决定感到疑惑。事实上，在花旗后面的这几年，我的心理状态越来越糟糕。痛苦，煎熬，悲怆
（好像其实也没那么夸张）。有一点是确定的，在花旗最后的一年，我吃了秤砣子，要离开的信念相当笃定。

为啥呢？三点。

第一，__*那是跳槽的最优化时机*__。那年我刚升上了 VP。在银行里，VP （副总监）这个职称，一般正常人，俩眼睛一嘴俩胳膊俩腿，过个几年总能搞上去。
再往上要变 Director 就需要人脉年资各种的积累了。我并不想在花旗蹲太久。再者，英国的移民政策允许连续工作了5年的外国人申请永久居留，
就业情况不受限制。这个时候刚好移民监也坐完了，心里的什么想法也应该在这个时候有了。

我在花旗银行连续工作了5年，虽说每年都会涨薪不少，但因毕业生的基数低，我那时的工资水平是远低于市场价的。那时我手贱，
跑 Glassdoor 去评估自己的工资水平。谁知一输入，哎？花旗银行的 Vice President 薪金统计数据的下界，怎么就变成了我的工资了呢？

你说这咋整？

第二，在花旗最后这一两年我的技术水平和业务知识提升得越来越慢。交到我手上的任务变得越来越同质化。当任务日渐趋同，我内心不安全感与日俱增。
再这么搞下去，我这技能会越来越与市场需求不相干。__*是时候多样化自己的经历和技能了*__。

诚然，在花旗积累下的人脉年资，让我在这企业逐步上升，搞个 Director 当当不是没可能。可是这么搞，我就是在做空波动率（short volatility）。
什么意思呢？如果我决定待在花旗不走，我就是在期待周遭一切趋于静止，公司不会裁员，业务部门不会被砍，人脉环境不会变动，业务市场不会萎缩。
这些外部条件一旦渐渐消失，我屁股热着的这个位置处境就会越发危险。继续这样下去我就变得脆弱，
而我要把自己变得[反脆弱（anti-fragile）](https://www.amazon.co.uk/Antifragile-Things-that-Gain-Disorder/dp/0141038225)，
我得强化技能宽度硬度，做多波动率（long volatility），别让个什么风暴把自己给整个推了。

为什么在后来我在花旗的能力提升慢起来了呢，这很大程度上归咎于公司一些制度性，哲学上的问题。你看这么一下就把这格局层次拉这么大了。
下面我说说这都是些什么制度问题。

我离开花旗的第三个，也是最重要原因在于，这些年来，我看清了这个公司，在哲学的层面上，
[像陈皓同志说的](https://coolshell.cn/articles/17737.html)，__*偏向通过管理解决问题，而不是通过技术解决问题*__。
这是我最不能苟同，甚至痛恨的一点，也是我在公司后期痛苦煎熬的根本源泉。

体现在哪里呢？作为一个基层干部，我被公司产生的各种匪夷所思的官僚形式主义工作掩埋得严严实实。各种奇奇怪怪的 spreadsheet（报表）要去填。
每次部署前至少搞一两天文件，催七八个签名。你永远不知道哪会突然蹦出来一个，你听都没听过的部门来的人，训你一顿说你这些文件没做好。
每周三都会收到一份抄送给各大佬的文件完成情况评估报告，你要是哪份东西填晚了，就会出现在大领导的'淘气表'上。我经常会为这些愚蠢透顶的事，
殚精竭虑。回想起来，我能搞妥这么多文件同时又保证了项目开发进程，真是个壮举。

你一定会说，这是大企业的通病。你如果适应不了它，就下功夫改良它。对于这种观点，我原则上是同意的，但你先别急，请听我讲三个故事。

第一件事是关于银行内部关于密码存档文件管理的问题。公司每年都会找 KPMG 的技术审计来评估软件系统的健康程度。喂，KPMG 诶。
虽说我们投行业的技术不一定能看齐 GAFAM (Google, Amazon, Facebook, Apple and Microsoft），但也轮不到四大的外行来给评估把。
当然外部审计总是必需的，KMPG 的人来找，找出来了一些问题。其中一个问题就是，一些系统的密码以原型存储在了文件里。

这个问题在我看来里不是问题。提出问题的人认为密码会被有恶意的程序员使用来搞破坏。这个看法很蠢，如果程序员有需要，有无数的方法可以搞破坏。
他们又说，这会让有恶意的外部人员更容易入侵银行系统。这也是外行看法，都入侵到你内网了，黑客还要看你密码？

当然这只是我的看法，稽核部（Compliance）的外行们可不这么看。外部审计出问题了啊，稽核同事们可慌了去了。咋办呐？赶紧上马一个密码管理项目吧。
他们上了这么一个密码管理系统，以后密码都不分散在各地储存了，你们要设密码，派人登入我们的系统把密码敲进来，然后把它忘掉（真的）。
系统运行时通过访问一个 REST API 实时获取你的密码。得知这个系统时，我的内心无比崩溃。

![Face Palm](/assets/face-palm.jpg)

这在我看来完全就是在自慰（masturbate），让自己舒服点，实际作用一点儿没有。你真的认为设立后忘记（set and forget）可行？
REST 放送的内容真的安全？全公司的系统都访问你的 API，你不会被DoS（拒绝访问）？

好了，密码系统确立好了，是时候赶鸭子上架了。稽查部定了一个死线，规定全公司系统必须按时将密码移交。果不其然，一些先行者们用上这系统之后，
坏事了，生产环境叫那 REST API 的时候卡住了，拿不到密码。气急败坏的先行者们把这密码系统批判了一通，这不是或让尿给憋死了吗？
然后这系统就没有然后了。

密码管理方法有很多，最有效的我认为是没有密码。没有密码不是认证，有很多无密码的方式实施系统认证的。可惜公司希冀通过管理方式让外行人搞一刀切，
搞砸是在所难免的。

第二个故事也很好玩儿。

有一天，一个内部电话打了进来，对方是一位操着东欧口音的阿姨（估计是布达佩斯'卓越中心'的）。她说，我们监察到，你的系统有通过 ftp 传输数据。
你给我个 deadline（死线），什么时候把 ftp 管道移植到 sftp 上呢？我心里一堆问号，这又搞个什么大龙凤？后来了解到，是花旗日本的某部门，
用 ftp 传输泄漏了数据。上头很生气，决定又来一次一刀切，把所有 ftp 传输管道给毙掉。

我心里好笑极了。诶，我是在访问 CME（芝商所）的公开交易数据哎，为什么要用 sftp ？阿姨不知道听懂了没有，接着问，那你什么时候能解决呢？
我多精一人啊，当然不会和她进行降维交流。我后来和她说，CME 数据目前只提供 ftp 访问方式，如果你必须要做 sftp，我可以和他们联系，
问个移植到 sftp 的要价，你看到时把这开支记在哪个部门的帐上呢？

阿姨后来就没再烦我了。

还有第三个故事，这件事是压垮骆驼最后的几根稻草之一。

前面说过，在花旗部署系统前要搞好几天的文件工作。这包括填个十几页的部署预案表格。谁有空填那个呀。那时后我就让我的一位小弟，
用 selenium WebDriver 写了个自动填表系统，一键完成这些傻工作。乐呵了没几天，我们被告知这自动填表系统不能用了。
这消息传到了系统部署管理部门耳朵里（没错，有这么个部门，我一直认为这些部门是用来创造就业的）。他说你们怎么能绕过部署规范流程呢？























